import{r as a,u as b,j as t,c as S,a as F,b as Z,d as $,P as U}from"./index-Wy9Olpsg.js";import{a as P,P as X}from"./PREFIX-CeGxrVg7.js";const q="_card_h2dkk_2",K="_image_h2dkk_17",ee="_name_h2dkk_24",te="_color_h2dkk_31",ce="_memoryPrice_h2dkk_39",ae="_memoryPrice__item_h2dkk_52",ie="_active_h2dkk_70",se="_container_h2dkk_74",re="_price_h2dkk_81",ne="_addCart_h2dkk_87",n={card:q,image:K,name:ee,color:te,memoryPrice:ce,memoryPrice__item:ae,active:ie,container:se,price:re,addCart:ne};function oe(e){const[s,i]=a.useState(e.memoryPrice[0].price),c=b();return t.jsxs("div",{className:n.card,children:[t.jsx("div",{style:{backgroundImage:`url(${e.image})`},className:n.image}),t.jsx("div",{className:n.name,children:e.name}),t.jsx("div",{className:n.color,children:e.color}),t.jsx("div",{className:n.characteristics}),t.jsx("div",{className:n.memoryPrice,children:e.memoryPrice.map((r,o)=>t.jsxs("div",{className:S(n.memoryPrice__item,{[n.active]:r.price==s}),onClick:()=>i(r.price),children:[" ",t.jsx("div",{children:r.memory})]},o))}),t.jsxs("div",{className:n.container,children:[t.jsxs("div",{className:n.price,children:[s," ₽"]}),t.jsx("div",{onClick:()=>c(F.add({id:e.id,memory:e.memoryPrice.filter(r=>r.price==s)[0].memory})),className:n.addCart,children:"Добавить"})]})]})}const le="_menuList_4skdx_2",de={menuList:le};function me({dataDevice:e}){return t.jsx("div",{className:de.menuList,children:e.map(s=>t.jsx(oe,{...s},s.id))})}const Me="_category_mpc3j_3",ye="_li_mpc3j_21",ue="_active_mpc3j_32",j={category:Me,li:ye,active:ue};function ge(){const e=b(),{...s}=Z(i=>i.category);return t.jsx("div",{className:j.category,children:s.title.map((i,c)=>t.jsx("li",{onClick:()=>e($.changeCategory(c)),className:S(j.li,{[j.active]:c==s.id}),children:i},c))})}const xe="_menu_1vgy2_2",we="_action_1vgy2_6",Le="_title_1vgy2_12",he="_noLoading_1vgy2_20",ve="_loading_1vgy2_25",je="_skeleton_1vgy2_30",u={menu:xe,action:we,title:Le,noLoading:he,loading:ve,skeleton:je},{Axios:Qe,AxiosError:De,CanceledError:ze,isCancel:Ye,CancelToken:Ge,VERSION:He,all:Be,Cancel:Ve,isAxiosError:We,spread:Re,toFormData:Je,AxiosHeaders:Fe,HttpStatusCode:$e,formToJSON:Ue,getAdapter:Xe,mergeConfig:qe}=P;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var m=function(){return m=Object.assign||function(s){for(var i,c=1,r=arguments.length;c<r;c++){i=arguments[c];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},m.apply(this,arguments)};function Ce(e,s){var i={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&s.indexOf(c)<0&&(i[c]=e[c]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,c=Object.getOwnPropertySymbols(e);r<c.length;r++)s.indexOf(c[r])<0&&Object.prototype.propertyIsEnumerable.call(e,c[r])&&(i[c[r]]=e[c[r]]);return i}var Ie=function(){return Math.random().toString(36).substring(6)},_e=function(e){var s=e.animate,i=s===void 0?!0:s,c=e.backgroundColor,r=c===void 0?"#f5f6f7":c,o=e.backgroundOpacity,g=o===void 0?1:o,M=e.baseUrl,x=M===void 0?"":M,L=e.children,l=e.foregroundColor,y=l===void 0?"#eee":l,d=e.foregroundOpacity,z=d===void 0?1:d,D=e.gradientRatio,C=D===void 0?2:D,Y=e.uniqueKey,I=e.rtl,G=I===void 0?!1:I,_=e.speed,H=_===void 0?1.2:_,p=e.style,B=p===void 0?{}:p,f=e.title,N=f===void 0?"Loading...":f,T=e.beforeMask,h=T===void 0?null:T,V=Ce(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","style","title","beforeMask"]),v=Y||Ie(),E="".concat(v,"-diff"),A="".concat(v,"-animated-diff"),k="".concat(v,"-aria"),W=G?{transform:"scaleX(-1)"}:null,R="".concat(H,"s"),O="".concat(C*-1," 0"),J="".concat(C," 0");return a.createElement("svg",m({"aria-labelledby":k,role:"img",style:m(m({},B),W)},V),N?a.createElement("title",{id:k},N):null,h&&a.isValidElement(h)?h:null,a.createElement("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url(".concat(x,"#").concat(E,")"),style:{fill:"url(".concat(x,"#").concat(A,")")}}),a.createElement("defs",null,a.createElement("clipPath",{id:E},L),a.createElement("linearGradient",{id:A,gradientTransform:"translate(".concat(O,")")},a.createElement("stop",{offset:"0%",stopColor:r,stopOpacity:g}),a.createElement("stop",{offset:"50%",stopColor:y,stopOpacity:z}),a.createElement("stop",{offset:"100%",stopColor:r,stopOpacity:g}),i&&a.createElement("animateTransform",{attributeName:"gradientTransform",type:"translate",values:"".concat(O,"; 0 0; ").concat(J),dur:R,repeatCount:"indefinite"}))))},Q=function(e){return e.children?a.createElement(_e,m({},e)):a.createElement(pe,m({},e))},pe=function(e){return a.createElement(Q,m({viewBox:"0 0 476 124"},e),a.createElement("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),a.createElement("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),a.createElement("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),a.createElement("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),a.createElement("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),a.createElement("circle",{cx:"20",cy:"20",r:"20"}))};const fe=Q,Ne=e=>t.jsxs(fe,{speed:1,width:333,height:400,viewBox:"0 0 333 400",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",...e,children:[t.jsx("rect",{x:"84",y:"22",rx:"17",ry:"17",width:"162",height:"204"}),t.jsx("rect",{x:"27",y:"242",rx:"18",ry:"18",width:"279",height:"35"}),t.jsx("rect",{x:"1",y:"299",rx:"19",ry:"19",width:"330",height:"33"}),t.jsx("rect",{x:"6",y:"360",rx:"12",ry:"12",width:"125",height:"31"}),t.jsx("rect",{x:"204",y:"360",rx:"7",ry:"7",width:"120",height:"26"})]}),Te=Ne,Ee="_input_1wsuu_1",Ae="_search_1wsuu_20",ke="_clear_1wsuu_29",w={"input-wrapper":"_input-wrapper_1wsuu_1",input:Ee,search:Ae,clear:ke},Oe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNjQuMDAxcHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2MCA2NC4wMDE7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2MCA2NC4wMDEiIHdpZHRoPSI2MHB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZyBpZD0iQmlub2N1bGFyIj48Zz48cGF0aCBkPSJNNCw0OC4wMDFoMTZ2LTRINFY0OC4wMDF6IE0yNiw2LjAwMWMwLTEuMTA1LTAuODk2LTItMi0ySDEyICAgIGMtMS4xMDQsMC0yLDAuODk1LTIsMnY0YzAsMS4xMDQsMC44OTYsMiwyLDJoMTJjMS4xMDQsMCwyLTAuODk2LDItMlY2LjAwMXogTTQwLDQ0LjAwMXY0aDE2di00SDQweiBNNTAsMTAuMDAxdi00ICAgIGMwLTEuMTA1LTAuODk2LTItMi0ySDM2Yy0xLjEwNCwwLTIsMC44OTUtMiwydjRjMCwxLjEwNCwwLjg5NiwyLDIsMmgxMkM0OS4xMDQsMTIuMDAxLDUwLDExLjEwNSw1MCwxMC4wMDF6IE0zMiwyMGgtNCAgICBjLTEuMTA0LDAtMiwwLjg5Ni0yLDJ2MTYuMDAxYzAsMS4xMDQsMC44OTYsMiwyLDJoNGMxLjEwNCwwLDItMC44OTYsMi0yVjIyQzM0LDIwLjg5NiwzMy4xMDQsMjAsMzIsMjB6IiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojOTk5OTk5OyIvPjwvZz48L2c+PGcgaWQ9IkJpbm9jdWxhcl8xXyI+PGc+PHBhdGggZD0iTTIsNDguMDAxbC0yLDEyYzAsMi4yMDksMS43OTEsNCw0LDRoMTZjMi4yMDksMCw0LTEuNzkxLDQtNCAgICBsLTItMTJIMnogTTIwLDBoLTRjLTIuMjA5LDAtNCwxLjc5MS00LDQuMDAxaDEyQzI0LDEuNzkxLDIyLjIwOSwwLDIwLDB6IE0zOCw0OC4wMDFsLTIsMTJjMCwyLjIwOSwxLjc5MSw0LDQsNGgxNiAgICBjMi4yMDksMCw0LTEuNzkxLDQtNGwtMi0xMkgzOHogTTQ0LDBoLTRjLTIuMjA5LDAtNCwxLjc5MS00LDQuMDAxaDEyQzQ4LDEuNzkxLDQ2LjIwOSwwLDQ0LDB6IE0yNCwxNi4wMDF2LTRIMTJ2NEg2ICAgIGMtMS4xMDQsMC0yLDAuODk1LTIsMkwwLDQyYzAsMS4xMDUsMC44OTYsMi4wMDEsMiwyLjAwMWgyMmMxLjEwNCwwLDItMC44OTYsMi0yLjAwMVYxOC4wMDFDMjYsMTYuODk2LDI1LjEwNCwxNi4wMDEsMjQsMTYuMDAxeiAgICAgTTU4LDQ0LjAwMWMxLjEwNCwwLDItMC44OTYsMi0yLjAwMWwtNC0yMy45OTljMC0xLjEwNS0wLjg5Ni0yLTItMmgtNnYtNEgzNnY0Yy0xLjEwNCwwLTIsMC44OTUtMiwyVjQyICAgIGMwLDEuMTA1LDAuODk2LDIuMDAxLDIsMi4wMDFINTh6IiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojNjY2NjY2OyIvPjwvZz48L2c+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PC9zdmc+",be="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20id='Icons'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23232323;}%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M13,0H11A3,3,0,0,0,8,3V4H2A1,1,0,0,0,2,6H3V20a4,4,0,0,0,4,4H17a4,4,0,0,0,4-4V6h1a1,1,0,0,0,0-2H16V3A3,3,0,0,0,13,0ZM10,3a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V4H10Zm9,17a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6H19Z'/%3e%3cpath%20class='cls-1'%20d='M12,9a1,1,0,0,0-1,1v8a1,1,0,0,0,2,0V10A1,1,0,0,0,12,9Z'/%3e%3cpath%20class='cls-1'%20d='M15,18a1,1,0,0,0,2,0V10a1,1,0,0,0-2,0Z'/%3e%3cpath%20class='cls-1'%20d='M8,9a1,1,0,0,0-1,1v8a1,1,0,0,0,2,0V10A1,1,0,0,0,8,9Z'/%3e%3c/svg%3e";function Se({searchValue:e,setSearchValue:s}){return t.jsxs("div",{className:w["input-wrapper"],children:[t.jsx("input",{value:e,onChange:i=>{s(i.target.value)},className:w.input,type:"text",placeholder:"поиск"}),t.jsx("img",{className:w.search,src:Oe,alt:"иконка поиска"}),e&&t.jsx("img",{className:w.clear,onClick:()=>s(""),src:be,alt:"очистить ввод"})]})}function Ke(){const{currentPage:e,setMetaDevice:s}=a.useContext(U),{...i}=Z(l=>l.category),[c,r]=a.useState(),[o,g]=a.useState([]),[M,x]=a.useState("");a.useEffect(()=>{L()},[i.id,e,M]);const L=async()=>{const l=i.id>0?`idDevice=${i.id}`:"",y=M?`title=${M}`:"";console.log(y);try{r(!0);const{data:d}=await P.get(X+`/device?${y}&page=${e}&limit=6&${l}`);g(d.items),s(d.meta),await setTimeout(()=>r(!1),1e3)}catch(d){d instanceof De&&console.log("произошла ошика при получении данных: "+d.message)}};return t.jsxs("div",{className:u.menu,children:[t.jsxs("div",{className:u.action,children:[t.jsx(ge,{}),t.jsx(Se,{setSearchValue:x,searchValue:M})]}),t.jsx("div",{className:u.title,children:i.title[i.id]}),!c&&t.jsx(me,{dataDevice:o}),c&&t.jsx("div",{className:u.loading,children:" Загружаем девайсы для ваших прекрасных глаз ..."}),c&&t.jsxs("div",{className:u.skeleton,children:[" ",Array(6).fill(0).map((l,y)=>t.jsx(Te,{},y+l))," "]})]})}export{Ke as default};
