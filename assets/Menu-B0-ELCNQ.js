import{r as M,u as w,j as s,c as D,a as _,b as y,d as C,P as v,e as N,f as T,A}from"./index-Co1mVa9Y.js";const h="_card_1lxxx_2",E="_image_1lxxx_17",Z="_name_1lxxx_24",p="_color_1lxxx_31",P="_memoryPrice_1lxxx_39",Q="_memoryPrice__item_1lxxx_54",z="_active_1lxxx_72",O="_container_1lxxx_76",S="_price_1lxxx_85",k="_addCart_1lxxx_91",t={card:h,image:E,name:Z,color:p,memoryPrice:P,memoryPrice__item:Q,active:z,container:O,price:S,addCart:k};function Y(c){const[e,i]=M.useState(c.memoryPrice[0].price),a=w();return s.jsxs("div",{className:t.card,children:[s.jsx("div",{style:{backgroundImage:`url(${c.image})`},className:t.image}),s.jsx("div",{className:t.name,children:c.name}),s.jsx("div",{className:t.color,children:c.color}),s.jsx("div",{className:t.characteristics}),s.jsx("div",{className:t.memoryPrice,children:c.memoryPrice.map((n,m)=>s.jsxs("div",{className:D(t.memoryPrice__item,{[t.active]:n.price==e}),onClick:()=>i(n.price),children:[" ",s.jsx("div",{children:n.memory})]},m))}),s.jsxs("div",{className:t.container,children:[s.jsxs("div",{className:t.price,children:[e," ₽"]}),s.jsx("div",{onClick:()=>a(_.add({id:c.id,memory:c.memoryPrice.filter(n=>n.price==e)[0].memory})),className:t.addCart,children:"Добавить"})]})]})}const G="_menuList_4skdx_2",H={menuList:G};function B({dataDevice:c}){return s.jsx("div",{className:H.menuList,children:c.map(e=>s.jsx(Y,{...e},e.id))})}const V="_category_mpc3j_3",W="_li_mpc3j_21",b="_active_mpc3j_32",d={category:V,li:W,active:b};function f(){const c=w(),{...e}=y(i=>i.category);return s.jsx("div",{className:d.category,children:e.title.map((i,a)=>s.jsx("li",{onClick:()=>c(C.changeCategory(a)),className:D(d.li,{[d.active]:a==e.id}),children:i},a))})}const R="_menu_1vgy2_2",J="_action_1vgy2_6",F="_title_1vgy2_12",$="_noLoading_1vgy2_20",U="_loading_1vgy2_25",X="_skeleton_1vgy2_30",r={menu:R,action:J,title:F,noLoading:$,loading:U,skeleton:X},q="_input_1wsuu_1",K="_search_1wsuu_20",ss="_clear_1wsuu_29",x={"input-wrapper":"_input-wrapper_1wsuu_1",input:q,search:K,clear:ss},cs="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNjQuMDAxcHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2MCA2NC4wMDE7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2MCA2NC4wMDEiIHdpZHRoPSI2MHB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZyBpZD0iQmlub2N1bGFyIj48Zz48cGF0aCBkPSJNNCw0OC4wMDFoMTZ2LTRINFY0OC4wMDF6IE0yNiw2LjAwMWMwLTEuMTA1LTAuODk2LTItMi0ySDEyICAgIGMtMS4xMDQsMC0yLDAuODk1LTIsMnY0YzAsMS4xMDQsMC44OTYsMiwyLDJoMTJjMS4xMDQsMCwyLTAuODk2LDItMlY2LjAwMXogTTQwLDQ0LjAwMXY0aDE2di00SDQweiBNNTAsMTAuMDAxdi00ICAgIGMwLTEuMTA1LTAuODk2LTItMi0ySDM2Yy0xLjEwNCwwLTIsMC44OTUtMiwydjRjMCwxLjEwNCwwLjg5NiwyLDIsMmgxMkM0OS4xMDQsMTIuMDAxLDUwLDExLjEwNSw1MCwxMC4wMDF6IE0zMiwyMGgtNCAgICBjLTEuMTA0LDAtMiwwLjg5Ni0yLDJ2MTYuMDAxYzAsMS4xMDQsMC44OTYsMiwyLDJoNGMxLjEwNCwwLDItMC44OTYsMi0yVjIyQzM0LDIwLjg5NiwzMy4xMDQsMjAsMzIsMjB6IiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojOTk5OTk5OyIvPjwvZz48L2c+PGcgaWQ9IkJpbm9jdWxhcl8xXyI+PGc+PHBhdGggZD0iTTIsNDguMDAxbC0yLDEyYzAsMi4yMDksMS43OTEsNCw0LDRoMTZjMi4yMDksMCw0LTEuNzkxLDQtNCAgICBsLTItMTJIMnogTTIwLDBoLTRjLTIuMjA5LDAtNCwxLjc5MS00LDQuMDAxaDEyQzI0LDEuNzkxLDIyLjIwOSwwLDIwLDB6IE0zOCw0OC4wMDFsLTIsMTJjMCwyLjIwOSwxLjc5MSw0LDQsNGgxNiAgICBjMi4yMDksMCw0LTEuNzkxLDQtNGwtMi0xMkgzOHogTTQ0LDBoLTRjLTIuMjA5LDAtNCwxLjc5MS00LDQuMDAxaDEyQzQ4LDEuNzkxLDQ2LjIwOSwwLDQ0LDB6IE0yNCwxNi4wMDF2LTRIMTJ2NEg2ICAgIGMtMS4xMDQsMC0yLDAuODk1LTIsMkwwLDQyYzAsMS4xMDUsMC44OTYsMi4wMDEsMiwyLjAwMWgyMmMxLjEwNCwwLDItMC44OTYsMi0yLjAwMVYxOC4wMDFDMjYsMTYuODk2LDI1LjEwNCwxNi4wMDEsMjQsMTYuMDAxeiAgICAgTTU4LDQ0LjAwMWMxLjEwNCwwLDItMC44OTYsMi0yLjAwMWwtNC0yMy45OTljMC0xLjEwNS0wLjg5Ni0yLTItMmgtNnYtNEgzNnY0Yy0xLjEwNCwwLTIsMC44OTUtMiwyVjQyICAgIGMwLDEuMTA1LDAuODk2LDIuMDAxLDIsMi4wMDFINTh6IiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojNjY2NjY2OyIvPjwvZz48L2c+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PC9zdmc+",es="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20id='Icons'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23232323;}%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M13,0H11A3,3,0,0,0,8,3V4H2A1,1,0,0,0,2,6H3V20a4,4,0,0,0,4,4H17a4,4,0,0,0,4-4V6h1a1,1,0,0,0,0-2H16V3A3,3,0,0,0,13,0ZM10,3a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V4H10Zm9,17a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6H19Z'/%3e%3cpath%20class='cls-1'%20d='M12,9a1,1,0,0,0-1,1v8a1,1,0,0,0,2,0V10A1,1,0,0,0,12,9Z'/%3e%3cpath%20class='cls-1'%20d='M15,18a1,1,0,0,0,2,0V10a1,1,0,0,0-2,0Z'/%3e%3cpath%20class='cls-1'%20d='M8,9a1,1,0,0,0-1,1v8a1,1,0,0,0,2,0V10A1,1,0,0,0,8,9Z'/%3e%3c/svg%3e";function is({searchValue:c,setSearchValue:e}){return s.jsxs("div",{className:x["input-wrapper"],children:[s.jsx("input",{value:c,onChange:i=>{e(i.target.value)},className:x.input,type:"text",placeholder:"поиск"}),s.jsx("img",{className:x.search,src:cs,alt:"иконка поиска"}),c&&s.jsx("img",{className:x.clear,onClick:()=>e(""),src:es,alt:"очистить ввод"})]})}function as(){const{currentPage:c,setMetaDevice:e}=M.useContext(v),{...i}=y(L=>L.category),[a,n]=M.useState(),[m,j]=M.useState([]),[l,g]=M.useState("");M.useEffect(()=>{u()},[i.id,c,l]);const u=async()=>{const L=i.id>0?`idDevice=${i.id}`:"",I=l?`title=${l}`:"";try{n(!0);const{data:o}=await N.get(T+`/device?${I}&page=${c}&limit=6&${L}`);j(o.items),e(o.meta),await setTimeout(()=>n(!1),1e3)}catch(o){o instanceof A&&console.log("произошла ошика при получении данных: "+o.message)}};return s.jsxs("div",{className:r.menu,children:[s.jsxs("div",{className:r.action,children:[s.jsx(f,{}),s.jsx(is,{setSearchValue:g,searchValue:l})]}),s.jsx("div",{className:r.title,children:i.title[i.id]}),!a&&s.jsx(B,{dataDevice:m}),a&&s.jsx("div",{className:r.loading,children:" Загружаем девайсы для ваших прекрасных глаз ..."})]})}export{as as default};
